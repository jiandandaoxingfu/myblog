<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git-版本控制 | JMx's Blog</title><meta name=keywords content="git,github"><meta name=description content="介绍版本控制软件git的基本使用以及常用的命令"><meta name=author content="JMx"><link rel=canonical href=https://jiandandaoxingfu.github.io/myblog/post/git/><link crossorigin=anonymous href=/myblog/assets/css/stylesheet.min.2df28e456bb813205a9deab1ef86b35131a4f84622ee06350123d82ca784fdac.css integrity="sha256-LfKORWu4EyBaneqx74azUTGk+EYi7gY1ASPYLKeE/aw=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=apple-touch-icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=mask-icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.111.1"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Git-版本控制"><meta property="og:description" content="介绍版本控制软件git的基本使用以及常用的命令"><meta property="og:type" content="article"><meta property="og:url" content="https://jiandandaoxingfu.github.io/myblog/post/git/"><meta property="og:image" content="https://jiandandaoxingfu.github.io/myblog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-27T16:09:02+08:00"><meta property="article:modified_time" content="2022-10-19T14:23:13+08:00"><meta property="og:site_name" content="JMx's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jiandandaoxingfu.github.io/myblog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Git-版本控制"><meta name=twitter:description content="介绍版本控制软件git的基本使用以及常用的命令"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jiandandaoxingfu.github.io/myblog/post/"},{"@type":"ListItem","position":2,"name":"Git-版本控制","item":"https://jiandandaoxingfu.github.io/myblog/post/git/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git-版本控制","name":"Git-版本控制","description":"介绍版本控制软件git的基本使用以及常用的命令","keywords":["git","github"],"articleBody":"简介 Git 可以非常方便的对文本文件做版本管理. 他可以记录每次修改后文件修改的位置和内容(前提是每次修改完成后进行提交, 即 commit). 通常情况下, Git是本地的, 如果需要将仓库放在网络上, 通常可以使用Github. 目前Github归微软所有.\n用途 一般来说, 我们可以把代码放在一个仓库中, 每次修改后及时提交, 并加上一些注释来说明本次修改做了哪些工作. 这样做有助于回到之前的某个时刻. 更重要的是, 有助于多人协作.\nTex 文件也是文本文件, 因此可以使用git来做版本控制. 这样一方面可以记录自己的科研工作, 以及当时的想法. 另外一方面, 如果遇到投稿, 修改稿子等工作时, 不用重新建立一个文件, 同时还可以清晰的比较两个版本之间的异同, 哪里被修改了. 这里不得不提一下, 很多人用日期来新建文件, 如\npaper-2022-03-01.tex paper-2022-03-03.tex paper-2022-03-27.tex, … 这种做法除了占用空间以及比较混乱, 时间久了还很难知道两个文件之间有什么区别, 改动了哪里.\n使用方法 一般我们使用 github 来配合 git 进行版本管理. 因此, 我们需要下载 git 和 github desktop . 同时需要注册一个 github 账号来使用 github.\n之后使用 github 新建一个仓库 new repository, 选择一个空的文件夹, 并起一个仓库名, 如 test. github 会初始化一个 git 仓库, 里面有一个 git 文件夹.\n然后就可以把需要做版本控制的文件放在 test/ 文件夹下. 此时回到 github, 会看到提示增加了一个文件(如果是修改, 则会提示修改, 并突出显示修改了哪些地方).\n左下角有一个 commit 按钮, 填写一个此次提交的 summary (简单介绍干了啥), 具体的一些工作内容以及想法可以写在 description 中. 然后点击 commit 即可提交.\n提交以后, github 会提示是否需要同步到网络, 即 push. 此功能可以将本地仓库同步到 github 账号, 随时随地都可以下载, 进行查看, 修改和同步. 例如在工作室提交并同步以后, 回到家里面, 可以从网络仓库拉取到本地, 即 pull. 此时同样可以查看提交历史, 修改, 提交, 同步等.\n需要注意的是, 国内访问 github 不太稳定, 经常打不开. 可以使用网易uu加速器来加速访问.\n以下是一些图例:\n创建仓库 提交 查看版本 左侧显示提交历史, 右侧可以查看每次提交是修改了哪些文件以及各个文件修改了哪里. 常用命令 rebase 有时候完成某一点的修改, 中间提交了多次, 我们可以把它们合并成一次 commit. 这需要在git 命令行中输入(以最近的4次提交合并成一个为例)\ngit rebase -i HEAD~4 此时会打开一个窗口, 用来完成此次合并, 其内容为\npick 70d651c update: maple-latex # 倒数第四个 pick 8ef0aa9 update: maple-latex pick a96ed9e update: maple-latex pick 2cfc89e update: maple-latex # 最新的 # Rebase a7d2d47..2cfc89e onto a7d2d47 (4 commands) # ... 里面会显示最近四次提交的 summary. 因为四次提交做的是同一件事(当然, 每次提交都是在前一版本上做修改, 而且可能有不同的 description ), 所以我们可以把 最新的三次提交合并到倒数第四次, 将四次提交变成一次. 我们需要修改上述文件为\npick 70d651c update: maple-latex # 倒数第四个 s 8ef0aa9 update: maple-latex s a96ed9e update: maple-latex s 2cfc89e update: maple-latex # 最新的 # Rebase a7d2d47..2cfc89e onto a7d2d47 (4 commands) # ... 这里的 pick 表示保留该 commit, 而 s(squash) 则表示将此次 commit 合并到前一个 commit. 需要注意的是, 这四次提交合并的时候可能会出现冲突, 此时回到 github, 它会有一个弹窗, 告诉你哪些文件在合并的时候出现了冲突. 我们需要手动解决冲突, 一般来说选择最新的文件即可 (commit … in …).\npull request \u0026\u0026 fetch upstream 这两个功能出现在多人协作中. 当我们Fork别人的代码进行修改, 提交到自己的仓库. 然后可以提Pull Request (PR), 等待原仓库作者审阅, 合并. 如果在修改过程中, 原仓库有了新的提交, 如果需要更新Fork过来的仓库, 可以使用fetch upstream功能.\n正常情况下, Github会给Fork的仓库上面提示和原仓库多了几次提交, 少了几次提交 对于多的, 我们可以Pull Request. 如果少了, 可以fetch upstream. 后者对于某些文件可能会出现冲突, 时我们可以根据github提示, 使用命令行工具进行修改. 在解决冲突文件时, 文件中会有如下的符号 ««\u003c HEAD 这一部分是我们自己的修改 == = = = 这一部分是原作者的修改 \u003e \u003e b… 对这一部分内容保留想要的即可解决冲突.\n","wordCount":"275","inLanguage":"en","datePublished":"2022-03-27T16:09:02+08:00","dateModified":"2022-10-19T14:23:13+08:00","author":{"@type":"Person","name":"JMx"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jiandandaoxingfu.github.io/myblog/post/git/"},"publisher":{"@type":"Organization","name":"JMx's Blog","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jiandandaoxingfu.github.io/myblog/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jiandandaoxingfu.github.io/myblog/post/ title=Blog><span>Blog</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Git-版本控制</h1><div class=post-meta><span title='2022-03-27 16:09:02 +0800 +0800'>发布: March 27, 2022</span>&nbsp;·&nbsp;<span title='2022-10-19 14:23:13 +0800 +0800'>更新: October 19, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;JMx</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e7%ae%80%e4%bb%8b aria-label=简介>简介</a></li><li><a href=#%e7%94%a8%e9%80%94 aria-label=用途>用途</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e6%96%b9%e6%b3%95 aria-label=使用方法>使用方法</a></li><li><a href=#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4 aria-label=常用命令>常用命令</a><ul><li><a href=#rebase aria-label=rebase>rebase</a></li><li><a href=#pull-request--fetch-upstream aria-label="pull request &amp;amp;&amp;amp; fetch upstream">pull request && fetch upstream</a></li></ul></li></ul></div></details></div><div class=post-content><h2 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h2><p><strong>Git</strong> 可以非常方便的对文本文件做版本管理.
他可以记录每次修改后文件修改的位置和内容(前提是每次修改完成后进行提交, 即 commit).
通常情况下, Git是本地的, 如果需要将仓库放在网络上, 通常可以使用Github.
目前Github归微软所有.</p><h2 id=用途>用途<a hidden class=anchor aria-hidden=true href=#用途>#</a></h2><p>一般来说, 我们可以把代码放在一个仓库中, 每次修改后及时提交, 并加上一些注释来说明本次修改做了哪些工作.
这样做有助于回到之前的某个时刻. 更重要的是, 有助于多人协作.</p><p><strong>Tex</strong> 文件也是文本文件, 因此可以使用git来做版本控制.
这样一方面可以记录自己的科研工作, 以及当时的想法.
另外一方面, 如果遇到投稿, 修改稿子等工作时, 不用重新建立一个文件, 同时还可以清晰的比较两个版本之间的异同, 哪里被修改了.
这里不得不提一下, 很多人用日期来新建文件, 如</p><ul><li>paper-2022-03-01.tex</li><li>paper-2022-03-03.tex</li><li>paper-2022-03-27.tex,</li><li>&mldr;</li></ul><p>这种做法除了占用空间以及比较混乱, 时间久了还很难知道两个文件之间有什么区别, 改动了哪里.</p><h2 id=使用方法>使用方法<a hidden class=anchor aria-hidden=true href=#使用方法>#</a></h2><p>一般我们使用 github 来配合 git 进行版本管理.
因此, 我们需要下载<a href=https://git-scm.com/download/> git </a>和<a href=https://desktop.github.com/> github desktop </a>.
同时需要注册一个 github 账号来使用 github.</p><p>之后使用 github 新建一个仓库 <code>new repository</code>, 选择一个空的文件夹, 并起一个仓库名, 如 <code>test</code>.
github 会初始化一个 git 仓库, 里面有一个 <code>git</code> 文件夹.</p><p>然后就可以把需要做版本控制的文件放在 <code>test/</code> 文件夹下. 此时回到 github, 会看到提示增加了一个文件(如果是修改, 则会提示修改, 并突出显示修改了哪些地方).</p><p>左下角有一个 commit 按钮, 填写一个此次提交的 summary (简单介绍干了啥), 具体的一些工作内容以及想法可以写在 description 中.
然后点击 commit 即可提交.</p><p>提交以后, github 会提示是否需要同步到网络, 即 push.
此功能可以将本地仓库同步到 github 账号, 随时随地都可以下载, 进行查看, 修改和同步.
例如在工作室提交并同步以后, 回到家里面, 可以从网络仓库拉取到本地, 即 pull.
此时同样可以查看提交历史, 修改, 提交, 同步等.</p><blockquote><p>需要注意的是, 国内访问 github 不太稳定, 经常打不开.
可以使用<a href=https://uu.163.com>网易uu加速器</a>来加速访问.</p></blockquote><p>以下是一些图例:</p><ul><li>创建仓库
<img loading=lazy src=images/create-repository.png alt></li><li>提交
<img loading=lazy src=images/commit.png alt></li><li>查看版本
<img loading=lazy src=images/commit-history.png alt>
左侧显示提交历史, 右侧可以查看每次提交是修改了哪些文件以及各个文件修改了哪里.</li></ul><h2 id=常用命令>常用命令<a hidden class=anchor aria-hidden=true href=#常用命令>#</a></h2><h3 id=rebase>rebase<a hidden class=anchor aria-hidden=true href=#rebase>#</a></h3><p>有时候完成某一点的修改, 中间提交了多次, 我们可以把它们合并成一次 commit.
这需要在git 命令行中输入(以最近的4次提交合并成一个为例)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>git rebase -i HEAD~4 
</span></span></code></pre></div><p>此时会打开一个窗口, 用来完成此次合并, 其内容为</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>pick 70d651c update: maple-latex # 倒数第四个
</span></span><span style=display:flex><span>pick 8ef0aa9 update: maple-latex
</span></span><span style=display:flex><span>pick a96ed9e update: maple-latex
</span></span><span style=display:flex><span>pick 2cfc89e update: maple-latex # 最新的
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Rebase a7d2d47..2cfc89e onto a7d2d47 (4 commands)
</span></span><span style=display:flex><span># ...
</span></span></code></pre></div><p>里面会显示最近四次提交的 summary.
因为四次提交做的是同一件事(当然, 每次提交都是在前一版本上做修改, 而且可能有不同的 description ), 所以我们可以把
最新的三次提交合并到倒数第四次, 将四次提交变成一次.
我们需要修改上述文件为</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat><span style=display:flex><span>pick 70d651c update: maple-latex # 倒数第四个
</span></span><span style=display:flex><span>s 8ef0aa9 update: maple-latex
</span></span><span style=display:flex><span>s a96ed9e update: maple-latex
</span></span><span style=display:flex><span>s 2cfc89e update: maple-latex # 最新的
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span># Rebase a7d2d47..2cfc89e onto a7d2d47 (4 commands)
</span></span><span style=display:flex><span># ...
</span></span></code></pre></div><p>这里的 pick 表示保留该 commit, 而 s(squash) 则表示将此次 commit 合并到前一个 commit.
需要注意的是, 这四次提交合并的时候可能会出现冲突, 此时回到 github, 它会有一个弹窗, 告诉你哪些文件在合并的时候出现了冲突.
我们需要手动解决冲突, 一般来说选择最新的文件即可 (commit &mldr; in &mldr;).</p><h3 id=pull-request--fetch-upstream>pull request && fetch upstream<a hidden class=anchor aria-hidden=true href=#pull-request--fetch-upstream>#</a></h3><p>这两个功能出现在多人协作中.
当我们Fork别人的代码进行修改, 提交到自己的仓库. 然后可以提Pull Request (PR), 等待原仓库作者审阅, 合并. 如果在修改过程中, 原仓库有了新的提交, 如果需要更新Fork过来的仓库, 可以使用fetch upstream功能.</p><p>正常情况下, Github会给Fork的仓库上面提示和原仓库多了几次提交, 少了几次提交
<img loading=lazy src=images/pull-fetch.png alt>
对于多的, 我们可以Pull Request. 如果少了, 可以fetch upstream. 后者对于某些文件可能会出现冲突, 时我们可以根据github提示, 使用命令行工具进行修改.
<img loading=lazy src=images/fetch-conflict.png alt>
在解决冲突文件时, 文件中会有如下的符号
&#171;&#171;&lt; HEAD
这一部分是我们自己的修改
== = = =
这一部分是原作者的修改
> > b&mldr;
对这一部分内容保留想要的即可解决冲突.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/git/>git</a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/github/>github</a></li></ul><nav class=paginav><a class=prev href=https://jiandandaoxingfu.github.io/myblog/post/tikz/><span class=title>« Prev Page</span><br><span>Tikz绘图示例</span></a>
<a class=next href=https://jiandandaoxingfu.github.io/myblog/post/maple-latex/><span class=title>Next Page »</span><br><span>Maple-Latex</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://jiandandaoxingfu.github.io/myblog/>JMx's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>