<!doctype html><html lang=en dir=auto><head><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-0JQXY0B11G","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Maple-符号计算 | JMx's Blog</title><meta name=keywords content="symbolic calculation,Maple"><meta name=description content="Maple符号计算的快速入门教程"><meta name=author content="JMx"><link rel=canonical href=https://jiandandaoxingfu.github.io/myblog/post/maple-symbolic-calculation/><link crossorigin=anonymous href=/myblog/assets/css/stylesheet.min.1ee9241babd46cb605eb0ec544bb7776c391a0dfb3232a8dfbd7150d14665a65.css integrity="sha256-HukkG6vUbLYF6w7FRLt3dsORoN+zIyqN+9cVDRRmWmU=" rel="preload stylesheet" as=style><link rel=icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=apple-touch-icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><link rel=mask-icon href=https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.111.3"><script>document.addEventListener("click",e=>{if(e.target.className==="overlay"||e.target.parentElement.className==="overlay"){document.body.removeChild(document.querySelector(".overlay"));return}if(e.target.tagName.toUpperCase()==="IMG"){var t,o,s=e.target,n=document.createElement("div");n.classList.add("overlay"),t=document.createElement("img"),t.src=s.src,t.alt=s.alt,n.appendChild(t),document.body.appendChild(n),o=.9*Math.min(window.innerWidth/t.clientWidth,window.innerHeight/t.clientHeight),t.style.transform=`scale(${o})`}});let scene,camera,renderer;window.onload=()=>{if(window.location.href.endsWith("myblog/")){let e=document.createElement("script");e.src="/myblog/static/js/three.min.js",document.head.appendChild(e),setTimeout(()=>{scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e4),renderer=new THREE.WebGLRenderer,renderer.setClearColor("#f5f5f5"),renderer.setSize(window.innerWidth,window.innerHeight);let e=document.createElement("div");e.setAttribute("class","three-container"),e.appendChild(renderer.domElement),document.body.appendChild(e),renderer.render(scene,camera),["/myblog/static/js/OrbitControls.js","/myblog/static/js/TrackballControls.js"].forEach(e=>{let t=document.createElement("script");t.src=e,document.head.appendChild(t)}),setTimeout(()=>{let e=document.createElement("script");e.src="/myblog/static/js/soliton.js",document.head.appendChild(e)},1e3)},1500)}}</script><style>.three-container{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;background:0 0;z-index:-1;overflow:hidden}img{cursor:zoom-in}.overlay{position:fixed;top:0;left:0;height:100%;width:100%;background-color:rgba(0,0,0,.7);z-index:999;display:flex;justify-content:center;align-items:center}.overlay img{max-width:80%;max-height:80%;object-fit:contain;z-index:1000}#theme-toggle,.top-link{display:none}.file-type-icon{position:relative;display:inline-block;width:25px;height:25px;top:8px;background-size:cover}.pdf-icon{background-image:url(/myblog/static/icons/pdf.svg)}.mw-icon{background-image:url(/myblog/static/icons/maple.png)}.rar-icon,.zip-icon{background-image:url(/myblog/static/icons/zip.svg)}.exe-icon{background-image:url(/myblog/static/icons/exe.svg)}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-0JQXY0B11G"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-0JQXY0B11G",{anonymize_ip:!1})}</script><meta property="og:title" content="Maple-符号计算"><meta property="og:description" content="Maple符号计算的快速入门教程"><meta property="og:type" content="article"><meta property="og:url" content="https://jiandandaoxingfu.github.io/myblog/post/maple-symbolic-calculation/"><meta property="og:image" content="https://jiandandaoxingfu.github.io/myblog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-01-13T07:43:08+08:00"><meta property="article:modified_time" content="2023-03-13T14:34:50+08:00"><meta property="og:site_name" content="JMx's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://jiandandaoxingfu.github.io/myblog/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Maple-符号计算"><meta name=twitter:description content="Maple符号计算的快速入门教程"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://jiandandaoxingfu.github.io/myblog/post/"},{"@type":"ListItem","position":2,"name":"Maple-符号计算","item":"https://jiandandaoxingfu.github.io/myblog/post/maple-symbolic-calculation/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Maple-符号计算","name":"Maple-符号计算","description":"Maple符号计算的快速入门教程","keywords":["symbolic calculation","Maple"],"articleBody":"这里简单介绍一下Maple的使用. Maple和Mathematica (简称mma)以及Matlab并称为三大科学计算软件. 后两个软件的使用者很多, 网上教程也比较丰富. 目前国内使用Maple的较少, 资料不多, 网上很多东西都搜不到. Matlab更加精于数值矩阵运算, 如果需要符号计算, 可以使用其Mupad工具箱. Mma则各方面都可以, 但是我个人用起来不太习惯. Maple 较强于符号计算, 其输入更加符合数学习惯. Maple的安装包大概只有1G, 后两个动辄10G.\n基本用法 创建文件 点击左上角文件 -\u003e 新建 -\u003e 文件模式. 或者使用快捷键 Ctrl + N. 之后如下 输入和输出 上图中可以看到有文字和数学两个选项. 点击文字, 鼠标所在行可以写文字, 不会运行, 可以正常换行等操作. 文字环境一般用来写程序说明, 即注释, 来说明程序是用来干什么的, 为什么, 以便阅读. 如果不加注释, 时间久了就容易忘. 而且程序可能会给别人用, 不加注释是很难读的.\n点击数学, 鼠标所在行会变成数学环境, 并且有虚线框. 两种环境可以用快捷键F5来快速切换. 在数学环境下, 按回车键Enter会运行当前代码块, 想要换行的话, 需要使用Shift + Enter. 对于多行的代码块, 尽量一行只进行一个命令, 不要把很多命令全放在一行, 这样太长, 不容易读. 多行代码中每一行代码都需要以分号或者冒号结束, 最后一行可以不加. 如下所示 不加分号或者冒号, 会认为仍然接上一行, 有时会报错. 从上图还可以看出分号会输出, 冒号则不输出. 在数学环境中, 也可以加注释, 但是需要在注释前面加#, 该符号后面的内容不会运行, 可以起到注释的作用. 不过一般不这么做, 把代码和注释写在一块太乱. 最后, 在数学环境的开头或者结尾可以按F5切换至文字环境, 换行后再切换至数学环境来对代码进行分块.\n定义变量 a := 3; # 定义变量不是用等号， 而是用冒号等号 b := 4: # 冒号不打印 c := 3 * 4; # 分号打印 # 两个变量或者数字与变量的乘积可以省略乘号，但两个数字的乘积不能省略 f := a x^2 + b x + c; # 注意不能定义 f(x) := ... # 需要注意的是, 这里所定义的变量都是全局变量, 运行过以后, 在程序的任何地方都可以引用 # 如果想要删除某个变量, 可以使用如下命令 unassign(`a`, `b`) # 取消给 a 和 b 赋值 # 在后面的自定义函数中, 我们会看到局部变量, 它们只在函数体内有效 # 有时候为了方便输入, 会使用别名来定义变量 alias(u=u(x), v=v(x)); # 这样在后面用u, v的时候就会隐去x, 见下图 图中第一行由于 v 没有定义, 默认为常数, 因此求导为 0.\n变量类型 上面定义的变量都是按个的表达式或者数字, 对于多个表达式, 可以用集合, 矩阵, 列表等类型.\n矩阵 基本与数学中的一致.\nwith(LinearAlgebra): # 使用矩阵及其操作， 需要引入线性代数包 M := Matrix( row, col ); # row * col阶矩阵 M := Matrix( row ); # row阶方阵 M := Matrix([ [1, 2, 3], [4, 5, 6], [7, 8, 9] ]); # 三阶矩阵 或者 M := \u003c1, 2, 3 | 4, 5, 6 |, 7, 8, 9\u003e; # 注意这里与上面定义的M互为转置 M[1, ..] # M的第一行(向量型) M[.., 1] # M的第一列 M^-1 # M的逆 M . M # M^2 M[1, 1] := 4 # 可以给矩阵的某个元素赋值 Transpose(M); HermitianTranspose(M); Determinant(M); coeMat, b := GenerateMatrix( [ eq1, eq2, ...], [ x1, x2, ...]); # 获取系数矩阵和右端项 需要注意的是, 在使用alias时, 有如下区别: 可以看到, 从输入复制的矩阵, alias不起作用, 因此 M4 求导为0.\n另外需要注意的是, 每一个由单个表达式或者数字定义的变量在计算机内存中的地址都不一样, 如\na := 3; b := a; 改变 a 的值不会影响 b 的值. 但是对于矩阵, 两者指向同一地址.\nA := [1, 2, 3]; B := A; 因此如果改变 A 中某个元素的值, 则 B 也会发生变化. 列表(list) arr :=[1, 2, 3, 4]: arr[3] # return 3; arr[1..2] # return [1, 2]; arr[-1] # return 4 arr + arr # 列表也可以加减 列表引用似乎不会同时改变.\n集合(set) Maple中的集合与数学中的集合一致: 无序, 不重复.\narr := { 5, 1, 2, 3, 4 }; # 无序(虽说无序, 但内部会按照数字/字母顺序排列), 不重复 arr[1] # 可能是1 intersect({1, 2, 3}, {3, 4, 5}) # return {3}; union({1, 2, 3}, {3, 4, 5}) # return {1, 2, 3, 4, 5}; {1, 2, 3} \\ { 2 } # return {1, 3} 集合中的元素可以是任意类型, 但是需要注意, 集合中的元素没有顺序, 上面定义的 arr[1] 不是 5. 向量 arr1 := \u003c1, 2, 3, 4\u003e; # 列向量 arr2 := \u003c 1 | 2 | 3\u003e; # 行向量 arr . arr2 # 矩阵 序列 sequence := seq(1..3) # return 1, 2, 3 arr := [ seq(1..3) ] # 序列加`[]`变列表 set_ := { seq(1..3) } # 变集合, 这里加下划线是因为 set 是程序里面的关键字, 不能作为变量名 # 还有其它一些关键字, 如 if, then, do, list 等 sequence := seq( i^2, i=1..3 ) # return 1, 4, 9 sequence := seq( F[i](x), i=1..3) # a, b, c := seq(1..3) # 使用序列可以给多个变量赋值 seq( seq(a[j, i](x), i=1..3), j=1..3 ); # return a_{11}, a_{12}, ..., a_{33}. # 多重, 常用来创建矩阵 字典(table) T := table([ a = 1, b = x^2, c = \"abcde\" ]); T[a] # 1. 字符串 s := \"i am a string\"; s[1..4] # = \"i am\"; 字符串一般用于输出提示信息. 比如在一个程序中, 可以把各种提示信息打印出来.\nprint(\"please input U\"); 流程控制 判断 if x \u003e 0 and (or) x \u003c 4 then # do something; end if; if x \u003e 0 and (or) x \u003c 4 then # do something elif x \u003c 0 then # do something else # do something end if; 注意换行并添加缩进.\n循环 for i from 1 to 10 do # do something; end do; for i from 1 to 10 do if i mod 2 = 0 then # do something end if; end do; arr := [1, 2, 3, 4]; for i in arr do # do something; end do; # 阶乘 n! prod_ := 1; n :=10; for i from 1 to n do prod_ := prod_ * i: end do: # 注意, 这里如果不用冒号, 每次循环都会输出 prod_; print(prod_); 自定义函数 func := (x) -\u003e x^2: # 箭头函数 func(4) # 16 # proc里面的量就是变量, 即输入, 而 return 后面是返回的结果, 可以返回多个 func := proc(x) global w, z; # 全局变量, 在整个程序中都存在 local y; # 局部变量, 只存在于本函数体内 y = x^2; return y; end proc: # 即 y = func(x); func(4) # return 16 # 我们把阶乘函数抽象出来 factorial_ := proc(n) # local prod_, i; # 程序内除输入以外的变量都要声明是全局变量还是局部变量, 否则可能会有警告信息 prod_ := 1; n :=10; for i from 1 to n do prod_ := prod_ * i: end do; return prod_; end proc: # 使用递归来定义, 递归可以看作一种循环, 适用于知道循环结束判断, 不知道循环次数的问题 factorial_ := proc(n) if n = 0 then return 1; else return n factorial_(n-1) ; end if end proc: # 递归实现汉诺塔问题, (由 ChatGPT 作答) hanoi := proc(n, A, B, C) if n = 1 then printf(\"Move disk from %s to %s\\n\", A, C); else hanoi(n-1, A, C, B); printf(\"Move disk from %s to %s\\n\", A, C); hanoi(n-1, B, A, C); end if; end proc: hanoi(3, \"A\", \"B\", \"C\"); 需要注意的是, 函数内部的命令行不论是以分号还是冒号结尾, 都不会打印, 因此需要print函数来进行打印.\n常用命令 Maple中的内置命令一般都是选取英文名称或者前几个字母, 注意内置命令也不能作为变量名.\n化简/因式分解/展开/分子/分母 simplify / factor / expand / numer / denom 合并同类项/提取系数/次数 expr := x^3 + 2 x^4 + (x+1)^3 + (2 x +3 y)^2 + y^2; collect(expr, x); collect(expr, [x, y]); # 先对 x 再对 y degree(expr, x) # x的次数 ldegree(expr, x) # x最低次幂 coeff(expr, x, 3) # x^3 的系数 lcoeff(expr, x) # x最高次幂的系数 tcoeff(expr, x) # x最低次幂的系数 with(PolynomialTools): CoefficientVector(x^3 + 2 x^2 + 3 x + 4, x); # \u003c4, 3, 2, 1\u003e 替换 subs(x=1, expr); subs(x=1, y=2, expr); subs({ x=1, y=2 }, expr); subs({ x=1 }, { y=2 }, expr); # 微分替换, 常用于具有导数的式子 with(PDETools): dsubs( f(x) = g(x), expr ); 复数/小数 sin(1) # sin(1) evalf( sin(1) ) # 0.8414709848 evalf( sin(1), 4) # 0.8415 evalc( exp(3 I x + y) ) # exp(y)*cos(3*x)+I*exp(y)*sin(3*x) 公式生成 tex 代码 latex(expr); 此处可以使用在线工具Maple-Latex来格式化其生成的tex代码, 去除冗余. 公式拆解/获取自变量/函数名 op( f(x) ) # return x op( 0, f(x) ) # return f op( a + b c ) # return a, b c op( a b ) # return a, b op( -f / g) # return [-1, f, 1/g] nops([1, 2, 3, 4]) # 获取数组长度 indets( A F(x) + B ) # { A, B, F(x), x } indets( A F(x) + B, name ) # { A, B, x} indets( A F(x) + B, Function ) # { F(x) } 变量转换 convert( 1/3, float ) # return 0.3333333... convert( f(x), string ) # return \"f(x)\" convert( \"f\", symbol ) # return f convert( [1, 2, 3, 4], set ) # return {1, 2, 3, 4} # 也可用 op { op( [1, 2, 3, 4] ) }; # { 1, 2, 3, 4 } convert( [1, 2, 3, 4], Matrix, 2 ); convert( seq( seq(V[j, i](x), i=1..3), j=1..3 ), Matrix, 3, 3 ) # (V_{ij})_{3*3} # 列表转矩阵 微分/积分 diff(f, x); diff(f, x$k) # k阶导数 diff(f, x$2, t$3); int(f, x); # 不定积分 int(f, x=0..1); # 定积分 seq( diff( f(x), x$i ), i=1..3) 需要注意的是, 在一些低版本中, 求导积分等一些运算只能作用域单个表达式, 不能作用域集合, 矩阵等. 映射 将某个函数作用于数组, 列表, 矩阵等多维表达式的每一个元素.\nmap(f, [x, y, z], a); # return [f(x, a), f(y, a), f(z, a)]; map2(f, a, [x, y, z]) # return [f(x, 1), f(y, 2), f(a, z)]; arr := [ seq(1..3) ]; map( x-\u003e x^2, arr ); # return [1, 4, 9] map可以替代for循环， 更加方便。 map(sin, arr); # sin 函数作用于每一个元素 V := convert( seq( seq(V[j, i](x), i=1..3), j=1..3 ), Matrix, 3, 3 ); map(diff, V, x) # 矩阵求导 map(op, 0, arr) map(expand, M); # 另外, 也可以使用 ~ 来代替map, 如 sin~(arr) diff~(arr, x) 求解方程(组) solve( eq = 0, x ); # 右端等于0可以省略 solve( eq, { x }); solve({ eq1=b1, eq2=b2, ... }, { x1, x2, ... }); solve( eq \u003e 0, x); 求解常微分方程(组) # 常微分方程 dsolve( deq = 0, y ); dsolve({ deq1=b1, deq2=b2, ... }, { y1, y2, ... }) # 偏微用 dsolve( deq = 0, y ); dsolve({ deq1=b1, deq2=b2, ... }, { y1, y2, ... }) # 同样右端等于0可以省略 符号连接 cat('v', 1, 2) # return v12; seq(cat('v', i), i=1..3) # return v1, v2, v3 seq(seq(cat('v', i, j), i=1..3), j=1..3 ) # return v11, v12, ..., v33 convert([seq(seq(cat('v', j, i), i = 1..3), j = 1..3)], Matrix, 3) # return (vij)_{3*3} 类型判断 is(5 \u003e 10) # false has(sin(x) + cos(x), `sin`) # true whattype(x) # symbol whattype(exp(x)) # function whattype(x - y) # `+` whattype( x y) # `*` 绘图 plot( sin(x), x=-3..3 ); plot3d( sech^2(x/6 + t) , x=-3..3, t=-3..3); plot3d( k^n exp(3 t), n=-10..10, t=-5..5, grid=[21, 100] ); 文件读取 save var1, var2, ..., \"path/var.m\"; read \"path/var.m\"; 注意事项 帮助文档\n学习一门语言最好的资料是软件自带的帮助文档, 其中详细的介绍了内置函数的各种用法和例子. 在上面的输入框中输入函数名, 点击进入相应的文档即可.\n注释\n写的程序一定要添加注释, 特别是程序很长的, 要分成若干块.\n清晰\n写的程序要清晰明了, 特别是流程控制合函数体内, 要使用空格或者缩进来加以区别, 不能都是从头开始.\n简洁\n每一行代码不宜过长, 多用换行. 每个函数也不宜过长, 一个大的函数应该分成若干个子函数.\n一般性\n写的代码要有普适性, 能够很方便的移植到其它地方. 比如处理二阶谱问题的程序, 应该可以迁移到高阶谱问题. 此类可以将阶数定义出来, 后面用到阶数2的时候用变量代替, 后续改成3就很容易.\n变量命名\n给变量命名要么起一个英文名, 一看就知道是什么意思. 或者和文章中的符号保持一致.\n进阶 矩阵符号运算 符号计算中, 当不确定矩阵维数时, 需要保证不满足交换律, 同时保持求导等运算. Maple的Physics包中提供了可以定义符号变量为非交换元素, 从而可用于矩阵的符号运算中去. 具体使用如下:\nwith(Physics): Setup(mathematicalnotation=true): Set(noncommutativeprefix={U, V, X, ... }): eq := U V - V U; # eq != 0. 自定义模块 在日常使用中, 对于经常要使用的代码, 可以封装成模块, 放在Maple库中, 方便使用. 像线性代数包LinearAlgebra, 微分方程包PDETools 等. 其定义方式类似于procedure函数,\nMyModule := module() option package; export add; # 要导出的函数, 变量等 local minus; # 不需要导出的函数, 变量 add := proc(x, y) return x + y; end proc: minus := proc(x, y) return x - y; end proc: end module: 运行上述程序, 然后再运行如下命令将其保存在Maple库中(这里假设Maple安装路径为D:/maple 18)\nsavelib(MyModule, \"D:/maple 18/lib/MyModule.mla\"); 运行完以后可以在该目录下看到MyModule.mla文件. 之后就可以像使用内置包, 如LinearAlgebra包一样使用. 任意一个程序中运行\nwith(MyModule) # return [add] 然后就可以愉快的使用add函数了\nadd(3, 5) # return 8 非常的方便.\n下载 ","wordCount":"1488","inLanguage":"en","datePublished":"2022-01-13T07:43:08+08:00","dateModified":"2023-03-13T14:34:50+08:00","author":{"@type":"Person","name":"JMx"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://jiandandaoxingfu.github.io/myblog/post/maple-symbolic-calculation/"},"publisher":{"@type":"Organization","name":"JMx's Blog","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/jiandandaoxingfu/myblog/main/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jiandandaoxingfu.github.io/myblog/ accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jiandandaoxingfu.github.io/myblog/post/ title=Blog><span>Blog</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Maple-符号计算<sup><span class=entry-isdraft>&nbsp;&nbsp;[draft]</span></sup></h1><div class=post-meta><span title='2022-01-13 07:43:08 +0800 +0800'>发布: January 13, 2022</span>&nbsp;·&nbsp;<span title='2023-03-13 14:34:50 +0800 +0800'>更新: March 13, 2023</span>&nbsp;·&nbsp;JMx</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95 aria-label=基本用法>基本用法</a><ul><li><a href=#%e5%88%9b%e5%bb%ba%e6%96%87%e4%bb%b6 aria-label=创建文件>创建文件</a></li><li><a href=#%e8%be%93%e5%85%a5%e5%92%8c%e8%be%93%e5%87%ba aria-label=输入和输出>输入和输出</a></li><li><a href=#%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f aria-label=定义变量>定义变量</a></li><li><a href=#%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b aria-label=变量类型>变量类型</a></li><li><a href=#%e6%b5%81%e7%a8%8b%e6%8e%a7%e5%88%b6 aria-label=流程控制>流程控制</a></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%87%bd%e6%95%b0 aria-label=自定义函数>自定义函数</a></li></ul></li><li><a href=#%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4 aria-label=常用命令>常用命令</a><ul><li><a href=#%e5%8c%96%e7%ae%80%e5%9b%a0%e5%bc%8f%e5%88%86%e8%a7%a3%e5%b1%95%e5%bc%80%e5%88%86%e5%ad%90%e5%88%86%e6%af%8d aria-label=化简/因式分解/展开/分子/分母>化简/因式分解/展开/分子/分母</a></li><li><a href=#%e5%90%88%e5%b9%b6%e5%90%8c%e7%b1%bb%e9%a1%b9%e6%8f%90%e5%8f%96%e7%b3%bb%e6%95%b0%e6%ac%a1%e6%95%b0 aria-label=合并同类项/提取系数/次数>合并同类项/提取系数/次数</a></li><li><a href=#%e6%9b%bf%e6%8d%a2 aria-label=替换>替换</a></li><li><a href=#%e5%a4%8d%e6%95%b0%e5%b0%8f%e6%95%b0 aria-label=复数/小数>复数/小数</a></li><li><a href=#%e5%85%ac%e5%bc%8f%e7%94%9f%e6%88%90-tex-%e4%bb%a3%e7%a0%81 aria-label="公式生成 tex 代码">公式生成 tex 代码</a></li><li><a href=#%e5%85%ac%e5%bc%8f%e6%8b%86%e8%a7%a3%e8%8e%b7%e5%8f%96%e8%87%aa%e5%8f%98%e9%87%8f%e5%87%bd%e6%95%b0%e5%90%8d aria-label=公式拆解/获取自变量/函数名>公式拆解/获取自变量/函数名</a></li><li><a href=#%e5%8f%98%e9%87%8f%e8%bd%ac%e6%8d%a2 aria-label=变量转换>变量转换</a></li><li><a href=#%e5%be%ae%e5%88%86%e7%a7%af%e5%88%86 aria-label=微分/积分>微分/积分</a></li><li><a href=#%e6%98%a0%e5%b0%84 aria-label=映射>映射</a></li><li><a href=#%e6%b1%82%e8%a7%a3%e6%96%b9%e7%a8%8b%e7%bb%84 aria-label=求解方程(组)>求解方程(组)</a></li><li><a href=#%e6%b1%82%e8%a7%a3%e5%b8%b8%e5%be%ae%e5%88%86%e6%96%b9%e7%a8%8b%e7%bb%84 aria-label=求解常微分方程(组)>求解常微分方程(组)</a></li><li><a href=#%e7%ac%a6%e5%8f%b7%e8%bf%9e%e6%8e%a5 aria-label=符号连接>符号连接</a></li><li><a href=#%e7%b1%bb%e5%9e%8b%e5%88%a4%e6%96%ad aria-label=类型判断>类型判断</a></li><li><a href=#%e7%bb%98%e5%9b%be aria-label=绘图>绘图</a></li><li><a href=#%e6%96%87%e4%bb%b6%e8%af%bb%e5%8f%96 aria-label=文件读取>文件读取</a></li></ul></li><li><a href=#%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9 aria-label=注意事项>注意事项</a></li><li><a href=#%e8%bf%9b%e9%98%b6 aria-label=进阶>进阶</a><ul><li><a href=#%e7%9f%a9%e9%98%b5%e7%ac%a6%e5%8f%b7%e8%bf%90%e7%ae%97 aria-label=矩阵符号运算>矩阵符号运算</a></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e6%a8%a1%e5%9d%97 aria-label=自定义模块>自定义模块</a></li></ul></li><li><a href=#%e4%b8%8b%e8%bd%bd aria-label=下载>下载</a></li></ul></div></details></div><div class=post-content><p>这里简单介绍一下Maple的使用. Maple和Mathematica (简称mma)以及Matlab并称为三大科学计算软件.
后两个软件的使用者很多, 网上教程也比较丰富.
目前国内使用Maple的较少, 资料不多, 网上很多东西都搜不到.
Matlab更加精于数值矩阵运算, 如果需要符号计算, 可以使用其<code>Mupad</code>工具箱.
Mma则各方面都可以, 但是我个人用起来不太习惯.
Maple 较强于符号计算, 其输入更加符合数学习惯.
Maple的安装包大概只有<code>1G</code>, 后两个动辄<code>10G</code>.</p><hr><h2 id=基本用法>基本用法<a hidden class=anchor aria-hidden=true href=#基本用法>#</a></h2><h3 id=创建文件>创建文件<a hidden class=anchor aria-hidden=true href=#创建文件>#</a></h3><p>点击左上角<code>文件</code> -> <code>新建</code> -> <code>文件模式</code>. 或者使用快捷键 <code>Ctrl</code> + <code>N</code>.
<img loading=lazy src=images/newfile.png alt=创建文件>
之后如下
<img loading=lazy src=images/blank.png alt=空白文件></p><h3 id=输入和输出>输入和输出<a hidden class=anchor aria-hidden=true href=#输入和输出>#</a></h3><p>上图中可以看到有<code>文字</code>和<code>数学</code>两个选项.
点击<code>文字</code>, 鼠标所在行可以写文字, 不会运行, 可以正常换行等操作.
文字环境一般用来写程序说明, 即注释, 来说明程序是用来干什么的, 为什么, 以便阅读.
如果不加注释, 时间久了就容易忘. 而且程序可能会给别人用, 不加注释是很难读的.</p><p>点击<code>数学</code>, 鼠标所在行会变成数学环境, 并且有虚线框.
<img loading=lazy src=images/text-math.png alt=空白文件>
两种环境可以用快捷键<code>F5</code>来快速切换.
在数学环境下, 按回车键<code>Enter</code>会运行当前代码块, 想要换行的话, 需要使用<code>Shift</code> + <code>Enter</code>.
对于多行的代码块, 尽量一行只进行一个命令, 不要把很多命令全放在一行, 这样太长, 不容易读.
多行代码中每一行代码都需要以分号或者冒号结束, 最后一行可以不加. 如下所示
<img loading=lazy src=images/enter.png alt=换行>
不加分号或者冒号, 会认为仍然接上一行, 有时会报错.
从上图还可以看出分号会输出, 冒号则不输出.
在数学环境中, 也可以加注释, 但是需要在注释前面加<code>#</code>, 该符号后面的内容不会运行, 可以起到注释的作用.
不过一般不这么做, 把代码和注释写在一块太乱.
<img loading=lazy src=images/%e6%b3%a8%e9%87%8a.png alt=注释>
最后, 在数学环境的开头或者结尾可以按<code>F5</code>切换至文字环境, 换行后再切换至数学环境来对代码进行分块.</p><h3 id=定义变量>定义变量<a hidden class=anchor aria-hidden=true href=#定义变量>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>3</span>;  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>定义变量不是用等号</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#a6e22e>而是用冒号等号</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>4</span><span style=color:#f92672>:</span>  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>冒号不打印</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>4</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>分号打印</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span>  <span style=color:#a6e22e>两个变量或者数字与变量的乘积可以省略乘号</span><span style=color:#960050;background-color:#1e0010>，</span><span style=color:#a6e22e>但两个数字的乘积不能省略</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>c</span>;  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>注意不能定义</span> <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>:=</span> ...
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>需要注意的是</span>, <span style=color:#a6e22e>这里所定义的变量都是全局变量</span>, <span style=color:#a6e22e>运行过以后</span>, <span style=color:#a6e22e>在程序的任何地方都可以引用</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>如果想要删除某个变量</span>, <span style=color:#a6e22e>可以使用如下命令</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>unassign</span>(<span style=color:#e6db74>`a`</span>, <span style=color:#e6db74>`b`</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>取消给</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>和</span> <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>赋值</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>在后面的自定义函数中</span>, <span style=color:#a6e22e>我们会看到局部变量</span>, <span style=color:#a6e22e>它们只在函数体内有效</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>有时候为了方便输入</span>, <span style=color:#a6e22e>会使用别名来定义变量</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>alias</span>(<span style=color:#a6e22e>u</span><span style=color:#f92672>=</span><span style=color:#a6e22e>u</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>v</span><span style=color:#f92672>=</span><span style=color:#a6e22e>v</span>(<span style=color:#a6e22e>x</span>));
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>这样在后面用u</span>, <span style=color:#a6e22e>v的时候就会隐去x</span>, <span style=color:#a6e22e>见下图</span>
</span></span></code></pre></div><p><img loading=lazy src=images/alias.png alt=alias>
图中第一行由于 v 没有定义, 默认为常数, 因此求导为 0.</p><h3 id=变量类型>变量类型<a hidden class=anchor aria-hidden=true href=#变量类型>#</a></h3><p>上面定义的变量都是按个的表达式或者数字, 对于多个表达式, 可以用集合, 矩阵, 列表等类型.</p><ul><li><strong>矩阵</strong></li></ul><p>基本与数学中的一致.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>with</span>(<span style=color:#a6e22e>LinearAlgebra</span>)<span style=color:#f92672>:</span>  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>使用矩阵及其操作</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#a6e22e>需要引入线性代数包</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Matrix</span>( <span style=color:#a6e22e>row</span>, <span style=color:#a6e22e>col</span> ); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>row</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>col阶矩阵</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Matrix</span>( <span style=color:#a6e22e>row</span> ); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>row阶方阵</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Matrix</span>([ [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>], [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>], [<span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>] ]); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>三阶矩阵</span> <span style=color:#a6e22e>或者</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span> <span style=color:#f92672>|</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span><span style=color:#f92672>&gt;</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>注意这里与上面定义的M互为转置</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>1</span>, ..] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>M的第一行</span>(<span style=color:#a6e22e>向量型</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span>[.., <span style=color:#ae81ff>1</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>M的第一列</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span><span style=color:#f92672>^-</span><span style=color:#ae81ff>1</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>M的逆</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span> . <span style=color:#a6e22e>M</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>M</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>M</span>[<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>] <span style=color:#f92672>:=</span> <span style=color:#ae81ff>4</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>可以给矩阵的某个元素赋值</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Transpose</span>(<span style=color:#a6e22e>M</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>HermitianTranspose</span>(<span style=color:#a6e22e>M</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>Determinant</span>(<span style=color:#a6e22e>M</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>coeMat</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>GenerateMatrix</span>( [ <span style=color:#a6e22e>eq1</span>, <span style=color:#a6e22e>eq2</span>, ...], [ <span style=color:#a6e22e>x1</span>, <span style=color:#a6e22e>x2</span>, ...]);  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>获取系数矩阵和右端项</span>
</span></span></code></pre></div><p><img loading=lazy src=images/matrix.png alt=matrix>
需要注意的是, 在使用<code>alias</code>时, 有如下区别:
<img loading=lazy src=images/mat-alias.png alt=mat-alias>
可以看到, 从输入复制的矩阵, alias不起作用, 因此 <code>M4</code> 求导为0.</p><p>另外需要注意的是, 每一个由单个表达式或者数字定义的变量在计算机内存中的地址都不一样, 如</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>;
</span></span></code></pre></div><p>改变 <code>a</code> 的值不会影响 <code>b</code> 的值.
但是对于矩阵, 两者指向同一地址.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>A</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>B</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>A</span>;
</span></span></code></pre></div><p>因此如果改变 <code>A</code> 中某个元素的值, 则 <code>B</code> 也会发生变化.
<img loading=lazy src=images/memory.png alt=memory></p><ul><li><strong>列表(list)</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span>[<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>]<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>3</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>2</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>arr</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>列表也可以加减</span>
</span></span></code></pre></div><p><img loading=lazy src=images/list.png alt=list>
列表引用似乎不会同时改变.</p><ul><li><strong>集合(set)</strong></li></ul><p>Maple中的集合与数学中的集合一致: 无序, 不重复.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> { <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span> }; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>无序</span>(<span style=color:#a6e22e>虽说无序</span>, <span style=color:#a6e22e>但内部会按照数字</span><span style=color:#f92672>/</span><span style=color:#a6e22e>字母顺序排列</span>), <span style=color:#a6e22e>不重复</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>1</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>可能是1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>intersect</span>({<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>}, {<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> {<span style=color:#ae81ff>3</span>};
</span></span><span style=display:flex><span><span style=color:#a6e22e>union</span>({<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>}, {<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>}) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> {<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>};
</span></span><span style=display:flex><span>{<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>} <span style=color:#960050;background-color:#1e0010>\</span> { <span style=color:#ae81ff>2</span> } <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> {<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>3</span>}
</span></span></code></pre></div><p>集合中的元素可以是任意类型, 但是需要注意, 集合中的元素没有顺序, 上面定义的 <code>arr[1]</code> 不是 5.
<img loading=lazy src=images/set.png alt=set></p><ul><li><strong>向量</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>arr1</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>&gt;</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>列向量</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr2</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>|</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>&gt;</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>行向量</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> . <span style=color:#a6e22e>arr2</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>矩阵</span>
</span></span></code></pre></div><p><img loading=lazy src=images/vec.png alt=vec></p><ul><li><strong>序列</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>sequence</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>seq</span>(<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> [ <span style=color:#a6e22e>seq</span>(<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) ] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>序列加</span><span style=color:#e6db74>`[]`</span><span style=color:#a6e22e>变列表</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>set_</span> <span style=color:#f92672>:=</span> { <span style=color:#a6e22e>seq</span>(<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) } <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>变集合</span>, <span style=color:#a6e22e>这里加下划线是因为</span> <span style=color:#a6e22e>set</span> <span style=color:#a6e22e>是程序里面的关键字</span>, <span style=color:#a6e22e>不能作为变量名</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>还有其它一些关键字</span>, <span style=color:#a6e22e>如</span> <span style=color:#66d9ef>if</span>, <span style=color:#a6e22e>then</span>, <span style=color:#66d9ef>do</span>, <span style=color:#a6e22e>list</span> <span style=color:#a6e22e>等</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sequence</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>i</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>9</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sequence</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>F</span>[<span style=color:#a6e22e>i</span>](<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>seq</span>(<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>使用序列可以给多个变量赋值</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>a</span>[<span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>i</span>](<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>j</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span> ); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a_</span>{<span style=color:#ae81ff>11</span>}, <span style=color:#a6e22e>a_</span>{<span style=color:#ae81ff>12</span>}, ..., <span style=color:#a6e22e>a_</span>{<span style=color:#ae81ff>33</span>}. <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>多重</span>, <span style=color:#a6e22e>常用来创建矩阵</span>
</span></span></code></pre></div><p><img loading=lazy src=images/seq.png alt=seq></p><ul><li><strong>字典(table)</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>T</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>table</span>([ <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;abcde&#34;</span>  ]); 
</span></span><span style=display:flex><span><span style=color:#a6e22e>T</span>[<span style=color:#a6e22e>a</span>] <span style=color:#960050;background-color:#1e0010>#</span>  <span style=color:#ae81ff>1.</span>
</span></span></code></pre></div><ul><li><strong>字符串</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>s</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;i am a string&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>s</span>[<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>4</span>] <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;i am&#34;</span>;
</span></span></code></pre></div><p><img loading=lazy src=images/string.png alt=string>
字符串一般用于输出提示信息. 比如在一个程序中, 可以把各种提示信息打印出来.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;please input U&#34;</span>);
</span></span></code></pre></div><h3 id=流程控制>流程控制<a hidden class=anchor aria-hidden=true href=#流程控制>#</a></h3><ul><li><strong>判断</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>and</span> (<span style=color:#a6e22e>or</span>) <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>if</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>and</span> (<span style=color:#a6e22e>or</span>) <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>elif</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>if</span>;
</span></span></code></pre></div><p>注意换行并添加缩进.</p><ul><li><strong>循环</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>from</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>to</span> <span style=color:#ae81ff>10</span> <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>do</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>from</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>to</span> <span style=color:#ae81ff>10</span> <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>mod</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>   	<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>end</span> <span style=color:#66d9ef>if</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>do</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>arr</span> <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>   <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>do</span> <span style=color:#a6e22e>something</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>do</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>阶乘</span> <span style=color:#a6e22e>n</span><span style=color:#f92672>!</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>prod_</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span><span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>from</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>prod_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>prod_</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#66d9ef>do</span><span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>注意</span>, <span style=color:#a6e22e>这里如果不用冒号</span>, <span style=color:#a6e22e>每次循环都会输出</span> <span style=color:#a6e22e>prod_</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>prod_</span>);
</span></span></code></pre></div><p><img loading=lazy src=images/for.png alt=for></p><h3 id=自定义函数>自定义函数<a hidden class=anchor aria-hidden=true href=#自定义函数>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>func</span> <span style=color:#f92672>:=</span> (<span style=color:#a6e22e>x</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span><span style=color:#f92672>:</span> <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>箭头函数</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>func</span>(<span style=color:#ae81ff>4</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#ae81ff>16</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>proc里面的量就是变量</span>, <span style=color:#a6e22e>即输入</span>, <span style=color:#a6e22e>而</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>后面是返回的结果</span>, <span style=color:#a6e22e>可以返回多个</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>func</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>x</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>global</span> <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>z</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>全局变量</span>, <span style=color:#a6e22e>在整个程序中都存在</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>local</span> <span style=color:#a6e22e>y</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>局部变量</span>, <span style=color:#a6e22e>只存在于本函数体内</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>即</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>func</span>(<span style=color:#a6e22e>x</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>func</span>(<span style=color:#ae81ff>4</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>16</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>我们把阶乘函数抽象出来</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>factorial_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>local</span> <span style=color:#a6e22e>prod_</span>, <span style=color:#a6e22e>i</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>程序内除输入以外的变量都要声明是全局变量还是局部变量</span>, <span style=color:#a6e22e>否则可能会有警告信息</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>prod_</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span><span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#a6e22e>from</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>n</span> <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>prod_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>prod_</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>end</span> <span style=color:#66d9ef>do</span>; 
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>prod_</span>; 
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>使用递归来定义</span>, <span style=color:#a6e22e>递归可以看作一种循环</span>, <span style=color:#a6e22e>适用于知道循环结束判断</span>, <span style=color:#a6e22e>不知道循环次数的问题</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>factorial_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>n</span> <span style=color:#a6e22e>factorial_</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) ;
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>end</span> <span style=color:#66d9ef>if</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>递归实现汉诺塔问题</span>, (<span style=color:#a6e22e>由</span> <span style=color:#a6e22e>ChatGPT</span> <span style=color:#a6e22e>作答</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>hanoi</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>n</span>, <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>C</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> <span style=color:#a6e22e>then</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Move disk from %s to %s\n&#34;</span>, <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hanoi</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>C</span>, <span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#34;Move disk from %s to %s\n&#34;</span>, <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hanoi</span>(<span style=color:#a6e22e>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>end</span> <span style=color:#66d9ef>if</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>hanoi</span>(<span style=color:#ae81ff>3</span>, <span style=color:#e6db74>&#34;A&#34;</span>, <span style=color:#e6db74>&#34;B&#34;</span>, <span style=color:#e6db74>&#34;C&#34;</span>);
</span></span></code></pre></div><p><img loading=lazy src=images/func.png alt=func>
<img loading=lazy src=images/func2.png alt=func>
<img loading=lazy src=images/chatgpt-hanoi.png alt=chatgpt-hanoi>
需要注意的是, 函数内部的命令行不论是以分号还是冒号结尾, 都不会打印, 因此需要<code>print</code>函数来进行打印.</p><hr><h2 id=常用命令>常用命令<a hidden class=anchor aria-hidden=true href=#常用命令>#</a></h2><p>Maple中的内置命令一般都是选取英文名称或者前几个字母, 注意内置命令也不能作为变量名.</p><h3 id=化简因式分解展开分子分母>化简/因式分解/展开/分子/分母<a hidden class=anchor aria-hidden=true href=#化简因式分解展开分子分母>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>simplify</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>factor</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>expand</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>numer</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>denom</span>
</span></span></code></pre></div><p><img loading=lazy src=images/simplify.png alt=simplify></p><h3 id=合并同类项提取系数次数>合并同类项/提取系数/次数<a hidden class=anchor aria-hidden=true href=#合并同类项提取系数次数>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>expr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>^</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> (<span style=color:#ae81ff>2</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>3</span> <span style=color:#a6e22e>y</span>)<span style=color:#f92672>^</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>collect</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>collect</span>(<span style=color:#a6e22e>expr</span>, [<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>]); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>先对</span> <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>再对</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>degree</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>x的次数</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ldegree</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>x最低次幂</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>coeff</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>, <span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>3</span> <span style=color:#a6e22e>的系数</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>lcoeff</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>)  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>x最高次幂的系数</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>tcoeff</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>x</span>)  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>x最低次幂的系数</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span>(<span style=color:#a6e22e>PolynomialTools</span>)<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>CoefficientVector</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>3</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>4</span>, <span style=color:#a6e22e>x</span>); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#f92672>&lt;</span><span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><p><img loading=lazy src=images/coeff.png alt=coeff></p><h3 id=替换>替换<a hidden class=anchor aria-hidden=true href=#替换>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>subs</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>expr</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>subs</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>expr</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>subs</span>({ <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span> }, <span style=color:#a6e22e>expr</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>subs</span>({ <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> }, { <span style=color:#a6e22e>y</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span> }, <span style=color:#a6e22e>expr</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>微分替换</span>, <span style=color:#a6e22e>常用于具有导数的式子</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span>(<span style=color:#a6e22e>PDETools</span>)<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dsubs</span>( <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>=</span> <span style=color:#a6e22e>g</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>expr</span> );
</span></span></code></pre></div><p><img loading=lazy src=images/subs.png alt=subs></p><h3 id=复数小数>复数/小数<a hidden class=anchor aria-hidden=true href=#复数小数>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>1</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>evalf</span>( <span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>1</span>) ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#ae81ff>0.8414709848</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>evalf</span>( <span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>1</span>), <span style=color:#ae81ff>4</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#ae81ff>0.8415</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>evalc</span>( <span style=color:#a6e22e>exp</span>(<span style=color:#ae81ff>3</span> <span style=color:#a6e22e>I</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span>) ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>exp</span>(<span style=color:#a6e22e>y</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>cos</span>(<span style=color:#ae81ff>3</span><span style=color:#f92672>*</span><span style=color:#a6e22e>x</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>I</span><span style=color:#f92672>*</span><span style=color:#a6e22e>exp</span>(<span style=color:#a6e22e>y</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>sin</span>(<span style=color:#ae81ff>3</span><span style=color:#f92672>*</span><span style=color:#a6e22e>x</span>)
</span></span></code></pre></div><p><img loading=lazy src=images/evalc.png alt=evalc></p><h3 id=公式生成-tex-代码>公式生成 tex 代码<a hidden class=anchor aria-hidden=true href=#公式生成-tex-代码>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>latex</span>(<span style=color:#a6e22e>expr</span>);
</span></span></code></pre></div><p><img loading=lazy src=images/latex.png alt=latex>
此处可以使用在线工具<a href=https://jiandandaoxingfu.github.io/maple-latex/>Maple-Latex</a>来格式化其生成的tex代码, 去除冗余.
<img loading=lazy src=images/maple-latex.png alt=maple-latex></p><h3 id=公式拆解获取自变量函数名>公式拆解/获取自变量/函数名<a hidden class=anchor aria-hidden=true href=#公式拆解获取自变量函数名>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>op</span>( <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>) ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>x</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>op</span>( <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>) ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>op</span>( <span style=color:#a6e22e>a</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>c</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span> <span style=color:#a6e22e>c</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>op</span>( <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>b</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>op</span>( <span style=color:#f92672>-</span><span style=color:#a6e22e>f</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>g</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>f</span>, <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>g</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>nops</span>([<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>]) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>获取数组长度</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>indets</span>( <span style=color:#a6e22e>A</span> <span style=color:#a6e22e>F</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>B</span> ) <span style=color:#960050;background-color:#1e0010>#</span> { <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>F</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>x</span> }
</span></span><span style=display:flex><span><span style=color:#a6e22e>indets</span>( <span style=color:#a6e22e>A</span> <span style=color:#a6e22e>F</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>name</span> ) <span style=color:#960050;background-color:#1e0010>#</span> { <span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>x</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>indets</span>( <span style=color:#a6e22e>A</span> <span style=color:#a6e22e>F</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>B</span>, Function ) <span style=color:#960050;background-color:#1e0010>#</span> { <span style=color:#a6e22e>F</span>(<span style=color:#a6e22e>x</span>) }
</span></span></code></pre></div><p><img loading=lazy src=images/op.png alt=op></p><h3 id=变量转换>变量转换<a hidden class=anchor aria-hidden=true href=#变量转换>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>convert</span>( <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>3</span>, <span style=color:#66d9ef>float</span> ) <span style=color:#960050;background-color:#1e0010>#</span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.3333333</span>...
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>( <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>string</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;f(x)&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>( <span style=color:#e6db74>&#34;f&#34;</span>, <span style=color:#a6e22e>symbol</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>f</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>( [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>], <span style=color:#a6e22e>set</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> {<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>}
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>也可用</span> <span style=color:#a6e22e>op</span>
</span></span><span style=display:flex><span>{ <span style=color:#a6e22e>op</span>( [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>] ) }; <span style=color:#960050;background-color:#1e0010>#</span> { <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span> }
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>( [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>], <span style=color:#a6e22e>Matrix</span>, <span style=color:#ae81ff>2</span> );
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>( <span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>V</span>[<span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>i</span>](<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>j</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span> ), <span style=color:#a6e22e>Matrix</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span> ) <span style=color:#960050;background-color:#1e0010>#</span> (<span style=color:#a6e22e>V_</span>{<span style=color:#a6e22e>ij</span>})<span style=color:#a6e22e>_</span>{<span style=color:#ae81ff>3</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span>} <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>列表转矩阵</span>
</span></span></code></pre></div><p><img loading=lazy src=images/convert.png alt=convert></p><h3 id=微分积分>微分/积分<a hidden class=anchor aria-hidden=true href=#微分积分>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>diff</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>x</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>diff</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>x$k</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>k阶导数</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>diff</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>x$2</span>, <span style=color:#a6e22e>t$3</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>x</span>); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>不定积分</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.</span>.<span style=color:#ae81ff>1</span>); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>定积分</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>diff</span>( <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>x$i</span> ), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>)
</span></span></code></pre></div><p>需要注意的是, 在一些低版本中, 求导积分等一些运算只能作用域单个表达式, 不能作用域集合, 矩阵等.
<img loading=lazy src=images/diff.png alt=diff></p><h3 id=映射>映射<a hidden class=anchor aria-hidden=true href=#映射>#</a></h3><p>将某个函数作用于数组, 列表, 矩阵等多维表达式的每一个元素.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>f</span>, [<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>], <span style=color:#a6e22e>a</span>); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>a</span>), <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>a</span>), <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>z</span>, <span style=color:#a6e22e>a</span>)];
</span></span><span style=display:flex><span><span style=color:#a6e22e>map2</span>(<span style=color:#a6e22e>f</span>, <span style=color:#a6e22e>a</span>, [<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>z</span>]) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>x</span>, <span style=color:#ae81ff>1</span>), <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>y</span>, <span style=color:#ae81ff>2</span>), <span style=color:#a6e22e>f</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>z</span>)];
</span></span><span style=display:flex><span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>:=</span> [ <span style=color:#a6e22e>seq</span>(<span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) ];
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>( <span style=color:#a6e22e>x</span><span style=color:#f92672>-&gt;</span> <span style=color:#a6e22e>x</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>arr</span> ); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>9</span>] <span style=color:#a6e22e>map可以替代for循环</span><span style=color:#960050;background-color:#1e0010>，</span> <span style=color:#a6e22e>更加方便</span><span style=color:#960050;background-color:#1e0010>。</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>sin</span>, <span style=color:#a6e22e>arr</span>); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>sin</span> <span style=color:#a6e22e>函数作用于每一个元素</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>V</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>convert</span>( <span style=color:#a6e22e>seq</span>( <span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>V</span>[<span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>i</span>](<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>j</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span> ), <span style=color:#a6e22e>Matrix</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>3</span> );
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>diff</span>, <span style=color:#a6e22e>V</span>, <span style=color:#a6e22e>x</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>矩阵求导</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>op</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>arr</span>) 
</span></span><span style=display:flex><span><span style=color:#a6e22e>map</span>(<span style=color:#a6e22e>expand</span>, <span style=color:#a6e22e>M</span>);
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>另外</span>, <span style=color:#a6e22e>也可以使用</span> <span style=color:#f92672>~</span> <span style=color:#a6e22e>来代替map</span>, <span style=color:#a6e22e>如</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>sin</span><span style=color:#f92672>~</span>(<span style=color:#a6e22e>arr</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>diff</span><span style=color:#f92672>~</span>(<span style=color:#a6e22e>arr</span>, <span style=color:#a6e22e>x</span>)
</span></span></code></pre></div><p><img loading=lazy src=images/map.png alt=map></p><h3 id=求解方程组>求解方程(组)<a hidden class=anchor aria-hidden=true href=#求解方程组>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>solve</span>( <span style=color:#a6e22e>eq</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>x</span> ); <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>右端等于0可以省略</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>solve</span>( <span style=color:#a6e22e>eq</span>, { <span style=color:#a6e22e>x</span> });
</span></span><span style=display:flex><span><span style=color:#a6e22e>solve</span>({ <span style=color:#a6e22e>eq1</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>eq2</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b2</span>, ... }, { <span style=color:#a6e22e>x1</span>, <span style=color:#a6e22e>x2</span>, ... });
</span></span><span style=display:flex><span><span style=color:#a6e22e>solve</span>( <span style=color:#a6e22e>eq</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>x</span>);
</span></span></code></pre></div><p><img loading=lazy src=images/solve.png alt=solve></p><h3 id=求解常微分方程组>求解常微分方程(组)<a hidden class=anchor aria-hidden=true href=#求解常微分方程组>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>常微分方程</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>dsolve</span>( <span style=color:#a6e22e>deq</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span> );
</span></span><span style=display:flex><span><span style=color:#a6e22e>dsolve</span>({ <span style=color:#a6e22e>deq1</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>deq2</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b2</span>, ... }, { <span style=color:#a6e22e>y1</span>, <span style=color:#a6e22e>y2</span>, ... }) 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>偏微用</span> 
</span></span><span style=display:flex><span><span style=color:#a6e22e>dsolve</span>( <span style=color:#a6e22e>deq</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span> );
</span></span><span style=display:flex><span><span style=color:#a6e22e>dsolve</span>({ <span style=color:#a6e22e>deq1</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b1</span>, <span style=color:#a6e22e>deq2</span><span style=color:#f92672>=</span><span style=color:#a6e22e>b2</span>, ... }, { <span style=color:#a6e22e>y1</span>, <span style=color:#a6e22e>y2</span>, ... }) 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>同样右端等于0可以省略</span>
</span></span></code></pre></div><p><img loading=lazy src=images/dsolve.png alt=dsolve></p><h3 id=符号连接>符号连接<a hidden class=anchor aria-hidden=true href=#符号连接>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>cat</span>(<span style=color:#e6db74>&#39;v&#39;</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>v12</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>cat</span>(<span style=color:#e6db74>&#39;v&#39;</span>, <span style=color:#a6e22e>i</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>v1</span>, <span style=color:#a6e22e>v2</span>, <span style=color:#a6e22e>v3</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>cat</span>(<span style=color:#e6db74>&#39;v&#39;</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>j</span>), <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>j</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span> ) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>v11</span>, <span style=color:#a6e22e>v12</span>, ..., <span style=color:#a6e22e>v33</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>convert</span>([<span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>seq</span>(<span style=color:#a6e22e>cat</span>(<span style=color:#e6db74>&#39;v&#39;</span>, <span style=color:#a6e22e>j</span>, <span style=color:#a6e22e>i</span>), <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.</span>.<span style=color:#ae81ff>3</span>)], <span style=color:#a6e22e>Matrix</span>, <span style=color:#ae81ff>3</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>vij</span>)<span style=color:#a6e22e>_</span>{<span style=color:#ae81ff>3</span><span style=color:#f92672>*</span><span style=color:#ae81ff>3</span>}
</span></span></code></pre></div><p><img loading=lazy src=images/cat.png alt=cat></p><h3 id=类型判断>类型判断<a hidden class=anchor aria-hidden=true href=#类型判断>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>is</span>(<span style=color:#ae81ff>5</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>10</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>has</span>(<span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>x</span>) <span style=color:#f92672>+</span> <span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>x</span>), <span style=color:#e6db74>`sin`</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>whattype</span>(<span style=color:#a6e22e>x</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>symbol</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>whattype</span>(<span style=color:#a6e22e>exp</span>(<span style=color:#a6e22e>x</span>)) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>function</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>whattype</span>(<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>y</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#e6db74>`+`</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>whattype</span>( <span style=color:#a6e22e>x</span> <span style=color:#a6e22e>y</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#e6db74>`*`</span>
</span></span></code></pre></div><h3 id=绘图>绘图<a hidden class=anchor aria-hidden=true href=#绘图>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>plot</span>( <span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>x</span>), <span style=color:#a6e22e>x</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>3.</span>.<span style=color:#ae81ff>3</span> );
</span></span><span style=display:flex><span><span style=color:#a6e22e>plot3d</span>( <span style=color:#a6e22e>sech</span><span style=color:#f92672>^</span><span style=color:#ae81ff>2</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#ae81ff>6</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>) , <span style=color:#a6e22e>x</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>3.</span>.<span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>t</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>3.</span>.<span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>plot3d</span>( <span style=color:#a6e22e>k</span><span style=color:#f92672>^</span><span style=color:#a6e22e>n</span> <span style=color:#a6e22e>exp</span>(<span style=color:#ae81ff>3</span> <span style=color:#a6e22e>t</span>), <span style=color:#a6e22e>n</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>10.</span>.<span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>t</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>5.</span>.<span style=color:#ae81ff>5</span>, <span style=color:#a6e22e>grid</span><span style=color:#f92672>=</span>[<span style=color:#ae81ff>21</span>, <span style=color:#ae81ff>100</span>] );
</span></span></code></pre></div><p><img loading=lazy src=images/plot.png alt=plot></p><h3 id=文件读取>文件读取<a hidden class=anchor aria-hidden=true href=#文件读取>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>save</span> <span style=color:#a6e22e>var1</span>, <span style=color:#a6e22e>var2</span>, ..., <span style=color:#e6db74>&#34;path/var.m&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>read</span> <span style=color:#e6db74>&#34;path/var.m&#34;</span>;
</span></span></code></pre></div><hr><h2 id=注意事项>注意事项<a hidden class=anchor aria-hidden=true href=#注意事项>#</a></h2><p><strong>帮助文档</strong></p><p>学习一门语言最好的资料是软件自带的帮助文档, 其中详细的介绍了内置函数的各种用法和例子.
<img loading=lazy src=images/help.png alt=help>
在上面的输入框中输入函数名, 点击进入相应的文档即可.</p><p><strong>注释</strong></p><p>写的程序一定要添加注释, 特别是程序很长的, 要分成若干块.</p><p><strong>清晰</strong></p><p>写的程序要清晰明了, 特别是流程控制合函数体内, 要使用空格或者缩进来加以区别, 不能都是从头开始.</p><p><strong>简洁</strong></p><p>每一行代码不宜过长, 多用换行. 每个函数也不宜过长, 一个大的函数应该分成若干个子函数.</p><p><strong>一般性</strong></p><p>写的代码要有普适性, 能够很方便的移植到其它地方.
比如处理二阶谱问题的程序, 应该可以迁移到高阶谱问题.
此类可以将阶数定义出来, 后面用到阶数2的时候用变量代替, 后续改成3就很容易.</p><p><strong>变量命名</strong></p><p>给变量命名要么起一个英文名, 一看就知道是什么意思. 或者和文章中的符号保持一致.</p><hr><h2 id=进阶>进阶<a hidden class=anchor aria-hidden=true href=#进阶>#</a></h2><h3 id=矩阵符号运算>矩阵符号运算<a hidden class=anchor aria-hidden=true href=#矩阵符号运算>#</a></h3><p>符号计算中, 当不确定矩阵维数时, 需要保证不满足交换律, 同时保持求导等运算. Maple的<code>Physics</code>包中提供了可以定义符号变量为非交换元素, 从而可用于矩阵的符号运算中去. 具体使用如下:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>with</span>(<span style=color:#a6e22e>Physics</span>)<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Setup</span>(<span style=color:#a6e22e>mathematicalnotation</span><span style=color:#f92672>=</span><span style=color:#66d9ef>true</span>)<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>noncommutativeprefix</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>U</span>, <span style=color:#a6e22e>V</span>, <span style=color:#a6e22e>X</span>, ... })<span style=color:#f92672>:</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>eq</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>U</span> <span style=color:#a6e22e>V</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>V</span> <span style=color:#a6e22e>U</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>eq</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0.</span>
</span></span></code></pre></div><h3 id=自定义模块>自定义模块<a hidden class=anchor aria-hidden=true href=#自定义模块>#</a></h3><p>在日常使用中, 对于经常要使用的代码, 可以封装成模块, 放在Maple库中, 方便使用. 像线性代数包<code>LinearAlgebra</code>, 微分方程包<code>PDETools</code> 等. 其定义方式类似于<code>procedure</code>函数,</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>MyModule</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>module</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>option</span> <span style=color:#66d9ef>package</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>export</span> <span style=color:#a6e22e>add</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>要导出的函数</span>, <span style=color:#a6e22e>变量等</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>local</span> <span style=color:#a6e22e>minus</span>; <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#a6e22e>不需要导出的函数</span>, <span style=color:#a6e22e>变量</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>add</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>minus</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>proc</span>(<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span> 	<span style=color:#a6e22e>end</span> <span style=color:#a6e22e>proc</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>end</span> <span style=color:#a6e22e>module</span><span style=color:#f92672>:</span>
</span></span></code></pre></div><p>运行上述程序, 然后再运行如下命令将其保存在Maple库中(这里假设Maple安装路径为<code>D:/maple 18</code>)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>savelib</span>(<span style=color:#a6e22e>MyModule</span>, <span style=color:#e6db74>&#34;D:/maple 18/lib/MyModule.mla&#34;</span>);
</span></span></code></pre></div><p>运行完以后可以在该目录下看到<code>MyModule.mla</code>文件. 之后就可以像使用内置包, 如LinearAlgebra包一样使用. 任意一个程序中运行</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>with</span>(<span style=color:#a6e22e>MyModule</span>)  <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> [<span style=color:#a6e22e>add</span>]
</span></span></code></pre></div><p>然后就可以愉快的使用<code>add</code>函数了</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>add</span>(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>5</span>) <span style=color:#960050;background-color:#1e0010>#</span> <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>8</span>
</span></span></code></pre></div><p>非常的方便.</p><hr><h2 id=下载>下载<a hidden class=anchor aria-hidden=true href=#下载>#</a></h2><span id=files/2023-03-02-example.mw class=post-tags><style>#download a::hover{transform:scale(.8)}</style><script type=text/javascript>var url="files/2023-03-02-example.mw",text,type,span;url.startsWith("file")&&(url=window.location.href.replace(/#.*/,"")+url),text="Maple 与 Darboux 变换",type=url.slice(url.lastIndexOf(".")+1),span=document.getElementById("files/2023-03-02-example.mw"),span.innerHTML=`
        <a href='${url}' target="_blank" style="margin: 5px; display: inline-block; box-shadow: none;" download>
            <span class="file-type-icon ${type}-icon"></span>
        	${text}
        </a>`</script></span><span id=files/2023-03-02-张鑫-三位势连续.mw class=post-tags><style>#download a::hover{transform:scale(.8)}</style><script type=text/javascript>var url="files/2023-03-02-张鑫-三位势连续.mw",text,type,span;url.startsWith("file")&&(url=window.location.href.replace(/#.*/,"")+url),text="三位势可积方程的 Darboux 变换",type=url.slice(url.lastIndexOf(".")+1),span=document.getElementById("files/2023-03-02-张鑫-三位势连续.mw"),span.innerHTML=`
        <a href='${url}' target="_blank" style="margin: 5px; display: inline-block; box-shadow: none;" download>
            <span class="file-type-icon ${type}-icon"></span>
        	${text}
        </a>`</script></span><span id=files/2023-02-24-王鑫-离散BC.mw class=post-tags><style>#download a::hover{transform:scale(.8)}</style><script type=text/javascript>var url="files/2023-02-24-王鑫-离散BC.mw",text,type,span;url.startsWith("file")&&(url=window.location.href.replace(/#.*/,"")+url),text="离散可积方程的 Darboux 变换",type=url.slice(url.lastIndexOf(".")+1),span=document.getElementById("files/2023-02-24-王鑫-离散BC.mw"),span.innerHTML=`
        <a href='${url}' target="_blank" style="margin: 5px; display: inline-block; box-shadow: none;" download>
            <span class="file-type-icon ${type}-icon"></span>
        	${text}
        </a>`</script></span><span id=files/Maple2020中文用户手册.pdf class=post-tags><style>#download a::hover{transform:scale(.8)}</style><script type=text/javascript>var url="files/Maple2020中文用户手册.pdf",text,type,span;url.startsWith("file")&&(url=window.location.href.replace(/#.*/,"")+url),text="Maple 2020 中文用户手册",type=url.slice(url.lastIndexOf(".")+1),span=document.getElementById("files/Maple2020中文用户手册.pdf"),span.innerHTML=`
        <a href='${url}' target="_blank" style="margin: 5px; display: inline-block; box-shadow: none;" download>
            <span class="file-type-icon ${type}-icon"></span>
        	${text}
        </a>`</script></span></div><footer class=post-footer><ul class=post-tags><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/symbolic-calculation/>symbolic calculation</a></li><li><a href=https://jiandandaoxingfu.github.io/myblog/tags/maple/>Maple</a></li></ul><nav class=paginav><a class=prev href=https://jiandandaoxingfu.github.io/myblog/post/snippets/><span class=title>« Prev Page</span><br><span>一些常用的代码片段</span></a>
<a class=next href=https://jiandandaoxingfu.github.io/myblog/post/derive-hierarchy/><span class=title>Next Page »</span><br><span>Maple自动推导方程族</span></a></nav></footer><script src=https://utteranc.es/client.js repo=jiandandaoxingfu/myblogcomments issue-term=pathname theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://jiandandaoxingfu.github.io/myblog/>JMx's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>